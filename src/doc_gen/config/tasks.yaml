conversation_generation_task:
  description: >
    Generate a natural conversation between a doctor and a patient based on a medical scenario. 
    The conversation should include the patient's symptoms, the doctor's diagnosis, and the prescribed treatment plan.
    The wording of the conversation uses tone in real situations.
    Follow the format below:
      <example>
        [info] a medical consultation in the Advanced General Dentistry at 2024/05/07
        ---------------------------------------
        의사: 안녕하세요. 처음 뵙겠습니다. 어디가 불편해서 오셨어요?
        환자: 아랫니가 약간 시려가지고 오게 됐습니다.
        의사: 아랫니가 시려서~. 봐 드릴게요. 한번 누워보세요. 시린거 한번 확인 하겠습니다. 요렇게 할 때 어떤지 볼게요. 시릴 수 있습니다. 시리세요? 여기 보니까 잇몸도 내려가있고 파져있네요. 여기는 조금 괜찮으세요? 여기도 시리세요? 
        환자: 여기까진 괜찮아요. 
        의사: 자 맨 뒤는 괜찮고, 이~ 해보세요. 위는 어떠세요? 시리세요? 
        환자: 위에는 약간 시려요.
        의사: 약간…. 여기는요? 
        환자: 거기는 괜찮습니다.
        의사: 괜찮으세요? 치석이 좀 많으시네요. 예전에 아말감 하셨는데 그 옆에 치아가 조금 깨져있네요. 앉아보세요. 설명을 좀 드릴게요. 여기 엑스레이 보면 이 치아거든요. 시린 게 지금. 왼쪽 아래 송곳니에요. 그 왼쪽 아래 송곳니가 잇몸이 이렇게 내려갔어요. 이렇게. 이렇게 되어야 안 추운데 이렇게 내려가면 춥죠. 이해하시겠죠? 거기다가 파져 있어요. 신경이 이 안에 있는데 신호가 빨리 전달이 되는 거예요.
        환자: 네.
        의사: 그래서 차가운 신호가 딱 가면 ‘아 시려’ 하고 이가 느끼는 거거든요. 그래서 그 부위는 플라스틱 종류의 물질을 가지고 거기다가 때우는 치과 재료가 있어요. 레진이라는 재료를 가지고 거기를 때워놓으면 시린 증상이 많이 좋아질 겁니다. 그리고 또 한 가지는 이 부분의 이가 삐뚤빼뚤 하다보니까 아랫니 안쪽에 치석이 좀 많이 있으세요. 거기를 잘 못 닦거든요. 그래서 거기 스케일링 하시고 이 닦는 방법 배우시면 될 것 같아요. 예전에 아말감 해둔 곳은 지금 크게 문제가 없으면 그냥 쓰시고 나중에 증상이 생긴다든가 깨지거나 하시면 그때가서 교체하셔도 될 것 같아요. 그 외에 특별한 문제는 없습니다. 
        환자: 원장님 저 질문 하나만 해도 될까요?
        의사: 네 
        환자: 보통 이런 크라운은 얼마나 유지가 되나요?
        의사: 사람마다 달라요. 치아 자체의 컨디션이 좋았고 선생님이 보철물을 잘 만들어서 끼워넣고 환자가 관리를 잘 한다면 10년, 20년, 30년, 40년도 가요. 근데 관리가 안되면 치아와 보철물 사이에 음식이 끼었는데 그걸 잘 못닦아낸다든가 하면 그 속에 세균이 살면서 이 세균이 이를 썩게 만들겠죠. 그러면 어떤 경우에는 5년이 안됐는데도 썩어서 탈락이 돼서 오시는 분들도 있어요. 그래서 6개월에서 1년에 한번씩은 치과에 방문하셔가지고 점검을 받으세요. 
        환자: 이 크라운을 더 이상 할 수 없을 정도가 되면 그 다음에 임플란트를 하게 되나요?
        의사: 네 그렇죠. 크라운을 쓸 수 없다, 뿌리만 남았다 그러면 거기다 할 수가 없잖아요. 그럴 경우에는 이를 빼고 거기다가 임플란트를 집어 넣어서 위에 크라운이라고 말하는 그 부분을 다시 만들어서 잘 씹어먹을 수 있게 만드는 거죠. 더 궁금하신 거 있으세요?
        환자: 아니요 없습니다.
        의사: 오늘 스케일링 받으시고요. 치석 다 제거하시고 이 닦는 방법을 하나 배우시고요. 치료는 다음번 약속 잡아서 해드릴 겁니다.
        환자: 네 원장님 오늘 너무 감사합니다.
      </example>
  
    Create a conversation that takes place during {situation} in the {department} at {date}.
  expected_output: >
    A dialogue script that captures the interaction between the doctor and patient, focusing on symptoms, diagnosis, and treatment recommendations.(target language: korean)
  agent: conversation_generator

intent_extraction_task:
  description: >
    Analyze the generated doctor-patient conversation and extract key medical intents. 
    Identify and categorize intentions such as symptom reporting, diagnosis requests, treatment discussions, and follow-up arrangements.
    Intent should be a simple word only.
    Follow the format below:
      * intent1 : intent1 keywords
      * intent2 : intent2 keywords
      ...
  expected_output: >
    A structured list of identified medical intents, each categorized and briefly explained. 
    The output should include the context in which each intent was expressed.(target language: korean)
  agent: medical_intent_extractor
  context:
    - conversation_generation_task

consultation_analysis_task:
  description: >
    Analyze the doctor's consultation with the patient and extract key details such as symptoms, diagnosis, and treatment plans.
    The analysis should focus on identifying the most relevant information for creating a medical report.
    The categories would be in SOAP note (an acronym for subjective, objective, assessment, and plan).
  expected_output: >
    A structured set of information extracted from the conversation, including the patient's symptoms, diagnosis, and any prescribed treatments or follow-up recommendations.(target language: korean)
  agent: medical_interpreter
  context:
      - conversation_generation_task
      - intent_extraction_task

report_generation_task:
  description: >
    Based on the analyzed consultation, generate a structured medical report that includes diagnosis, treatment plan, and other relevant patient information in the required format.
    Report must be written in a professional manner and include all necessary sections with a simple word only.
  expected_output: >
    A complete medical report formatted according to the specified guidelines, including sections for patient symptoms, diagnosis, treatments, and follow-up recommendations.(target language: korean)
  agent: medical_report_writer
  context:
    - conversation_generation_task
    - consultation_analysis_task
